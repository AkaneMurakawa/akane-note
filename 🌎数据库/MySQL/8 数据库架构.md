# 数据库架构

## 架构

- 读写分离
- 主从同步
- 哨兵模式
- 分库分表
- 集群



- 热备份
- 冷备份
- 异地容灾



## 主从同步-读写分离问题

1. 数据一致性问题
2. 同步延迟问题

**数据一致性问题**

解决：使用半同步方案。即当master写入完成时，进行阻塞，等待slave接收到master的relay binlog时再进行返回，之后异步写入到磁盘。

**同步延迟问题**

解决：强制读主



## 主从同步实现

- Sharding-jdbc (嵌入式SDK，侵入式强)
- MyCat
- Atlas (Proxy)



## 配置

- my.cnf
- change master